IF(NOT EXISTS @CMAKE_CURRENT_BINARY_DIR@/install_manifest.txt)
    MESSAGE(FATAL_ERROR "Cannot find install manifest: \"@CMAKE_CURRENT_BINARY_DIR@/install_manifest.txt\"")
ENDIF(NOT EXISTS ${CMAKE_CURRENT_BINARY_DIR}/install_manifest.txt)

# remove installed files
FILE(READ @CMAKE_CURRENT_BINARY_DIR@/install_manifest.txt files)
STRING(REGEX REPLACE "\n" ";" files "${files}")
LIST(REVERSE files)
FOREACH(file ${files})
    MESSAGE(STATUS "Uninstalling $ENV{DESTDIR}${file}")
    FILE(REMOVE ${file})
ENDFOREACH(file)

# remove tulip dedicated folders
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/tulip/)
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_INCLUDEDIR@/tulip/)
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_INCLUDEDIR@/tulip2ogdf/)
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_LIBDIR@/cmake/TULIP/)
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_DATADIR@/tulip/)
    FILE(REMOVE_RECURSE @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_DOCDIR@/)
    FILE(REMOVE_RECURSE @TulipPythonModulesInstallDir@/tulip/)
    FILE(REMOVE_RECURSE @TulipPythonModulesInstallDir@/tulipgui/)


# also remove desktop file and file associations on Linux
IF(LINUX)
  EXECUTE_PROCESS(COMMAND update-desktop-database @DESKTOP_CONFIG_INSTALL_PREFIX@/share/applications OUTPUT_QUIET ERROR_QUIET)
  EXECUTE_PROCESS(COMMAND update-mime-database @DESKTOP_CONFIG_INSTALL_PREFIX@/share/mime OUTPUT_QUIET ERROR_QUIET)
ENDIF(LINUX)
